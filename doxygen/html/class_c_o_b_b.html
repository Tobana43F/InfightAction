<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>InfightAction: COBB クラス</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">InfightAction
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','検索',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_c_o_b_b.html','','class_c_o_b_b-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">読み取り中…</div>
<div class="SRStatus" id="Searching">検索中…</div>
<div class="SRStatus" id="NoMatches">一致する文字列を見つけられません</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">COBB クラス</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_o_b_b_8h_source.html">OBB.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
公開メンバ関数</h2></td></tr>
<tr class="memitem:a50e398b13c09ee83a4dea988fa9a08d6" id="r_a50e398b13c09ee83a4dea988fa9a08d6"><td class="memItemLeft">&#160;</td><td class="memItemRight"><a class="el" href="#a50e398b13c09ee83a4dea988fa9a08d6">COBB</a> ()</td></tr>
<tr class="memitem:a41d72d8363dbfe3bde858d2acde897f8" id="r_a41d72d8363dbfe3bde858d2acde897f8"><td class="memItemLeft">&#160;</td><td class="memItemRight"><a class="el" href="#a41d72d8363dbfe3bde858d2acde897f8">~COBB</a> ()</td></tr>
<tr class="memitem:a45504f9e2ce5fb07b09f4c001c6d8b22" id="r_a45504f9e2ce5fb07b09f4c001c6d8b22"><td class="memItemLeft">LPD3DXMESH&#160;</td><td class="memItemRight"><a class="el" href="#a45504f9e2ce5fb07b09f4c001c6d8b22">CreateBoxMesh</a> (const LPDIRECT3DDEVICE9 lpdev)</td></tr>
<tr class="memitem:aa2f02df58eaed6828b6deb577db83e75" id="r_aa2f02df58eaed6828b6deb577db83e75"><td class="memItemLeft"><a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a>&#160;</td><td class="memItemRight"><a class="el" href="#aa2f02df58eaed6828b6deb577db83e75">PCA</a> (D3DXVECTOR3 *Vertices, DWORD *vindex, int numVertices)</td></tr>
<tr class="memitem:ad6c94b71b9dc8d5e1807ad8c1acbd34d" id="r_ad6c94b71b9dc8d5e1807ad8c1acbd34d"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#ad6c94b71b9dc8d5e1807ad8c1acbd34d">Init</a> (LPD3DXMESH mesh, LPDIRECT3DDEVICE9 lpdev)</td></tr>
<tr class="memitem:a7b4b4bec3ed2ff922bfc147781bb3e62" id="r_a7b4b4bec3ed2ff922bfc147781bb3e62"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a7b4b4bec3ed2ff922bfc147781bb3e62">Exit</a> ()</td></tr>
<tr class="memitem:aca92a6b73d95344a977324bb96e819d3" id="r_aca92a6b73d95344a977324bb96e819d3"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#aca92a6b73d95344a977324bb96e819d3">Update</a> (D3DXMATRIX &amp;matworld)</td></tr>
<tr class="memitem:ae44ee15d435e6938c38c930b776553bf" id="r_ae44ee15d435e6938c38c930b776553bf"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#ae44ee15d435e6938c38c930b776553bf">Draw</a> (LPDIRECT3DDEVICE9 lpdev)</td></tr>
<tr class="memitem:a2b99a8ac480b5bc5bed1323f6c0c2f98" id="r_a2b99a8ac480b5bc5bed1323f6c0c2f98"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a2b99a8ac480b5bc5bed1323f6c0c2f98">DrawRed</a> (LPDIRECT3DDEVICE9 lpdev)</td></tr>
<tr class="memitem:a5f998bb5c173166dd6b24ff5609438fb" id="r_a5f998bb5c173166dd6b24ff5609438fb"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#a5f998bb5c173166dd6b24ff5609438fb">Collision</a> (<a class="el" href="class_c_o_b_b.html">COBB</a> &amp;obb)</td></tr>
<tr class="memitem:a327fdedcbf5d4f4962112745baa64fac" id="r_a327fdedcbf5d4f4962112745baa64fac"><td class="memItemLeft">D3DXVECTOR3&#160;</td><td class="memItemRight"><a class="el" href="#a327fdedcbf5d4f4962112745baa64fac">GetPosition</a> ()</td></tr>
<tr class="memitem:aa6343a7954859501c0a52112bb269e02" id="r_aa6343a7954859501c0a52112bb269e02"><td class="memItemLeft"><a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a>&#160;</td><td class="memItemRight"><a class="el" href="#aa6343a7954859501c0a52112bb269e02">GetOBB</a> ()</td></tr>
<tr class="memitem:af02b766f3bb2d4875444fb7e0bf11338" id="r_af02b766f3bb2d4875444fb7e0bf11338"><td class="memItemLeft">D3DXMATRIX&#160;</td><td class="memItemRight"><a class="el" href="#af02b766f3bb2d4875444fb7e0bf11338">GetMatrix</a> ()</td></tr>
<tr class="memitem:ac5827cf50cb26e8e3acd891f404dddd9" id="r_ac5827cf50cb26e8e3acd891f404dddd9"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#ac5827cf50cb26e8e3acd891f404dddd9">isHit</a> ()</td></tr>
<tr class="memitem:af7e4dcc043417c170b4935752fd4b9a9" id="r_af7e4dcc043417c170b4935752fd4b9a9"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#af7e4dcc043417c170b4935752fd4b9a9">SetHit</a> ()</td></tr>
<tr class="memitem:a26c9160bf2252d27b31c7cea42f5441d" id="r_a26c9160bf2252d27b31c7cea42f5441d"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a26c9160bf2252d27b31c7cea42f5441d">SetNotHit</a> ()</td></tr>
<tr class="memitem:a967cd1f9aa74cbfb8cd9ac1d758681c5" id="r_a967cd1f9aa74cbfb8cd9ac1d758681c5"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a967cd1f9aa74cbfb8cd9ac1d758681c5">SetIsActive</a> (bool _state)</td></tr>
<tr class="memitem:ae93649f92d0c70f80a16964e7908d245" id="r_ae93649f92d0c70f80a16964e7908d245"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#ae93649f92d0c70f80a16964e7908d245">GetIsActive</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-methods" class="groupheader"><a id="pri-methods" name="pri-methods"></a>
非公開メンバ関数</h2></td></tr>
<tr class="memitem:a4b59327646f2180bf94c5aefc0a2a056" id="r_a4b59327646f2180bf94c5aefc0a2a056"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#a4b59327646f2180bf94c5aefc0a2a056">CompareLength</a> (const <a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a> &amp;pboxA, const <a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a> &amp;pboxB, const D3DXVECTOR3 &amp;pvecSeparate, const D3DXVECTOR3 &amp;pvecDistance)</td></tr>
<tr class="memitem:a229b363aae3659a16ba489e4b8324940" id="r_a229b363aae3659a16ba489e4b8324940"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a229b363aae3659a16ba489e4b8324940">TraneparentMaterial</a> (float alpha)</td></tr>
<tr class="memitem:a27bda7289b9f98cc3161fdcb44241176" id="r_a27bda7289b9f98cc3161fdcb44241176"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a27bda7289b9f98cc3161fdcb44241176">TraneparentMaterialRed</a> (float alpha)</td></tr>
<tr class="memitem:a7d45791c7e8d7301bbf58e2c6419fafd" id="r_a7d45791c7e8d7301bbf58e2c6419fafd"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#a7d45791c7e8d7301bbf58e2c6419fafd">TraneparentMaterialGray</a> (float alpha)</td></tr>
<tr class="memitem:ab367f3fd3d2d66411fa7a8d291f4acf0" id="r_ab367f3fd3d2d66411fa7a8d291f4acf0"><td class="memItemLeft">void&#160;</td><td class="memItemRight"><a class="el" href="#ab367f3fd3d2d66411fa7a8d291f4acf0">CalculateBoundingBox</a> (const LPD3DXMESH lpmesh, const LPDIRECT3DDEVICE9 lpdevice)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
非公開変数類</h2></td></tr>
<tr class="memitem:ae4f53e32c3dabbc2ae94674c7b949de9" id="r_ae4f53e32c3dabbc2ae94674c7b949de9"><td class="memItemLeft"><a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a>&#160;</td><td class="memItemRight"><a class="el" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a></td></tr>
<tr class="memitem:a4c53822263f9f92457781ebdad1c65f5" id="r_a4c53822263f9f92457781ebdad1c65f5"><td class="memItemLeft">D3DXMATRIX&#160;</td><td class="memItemRight"><a class="el" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a></td></tr>
<tr class="memitem:aa27fa21afdb04037f4ffe4ad07aea246" id="r_aa27fa21afdb04037f4ffe4ad07aea246"><td class="memItemLeft">LPD3DXMESH&#160;</td><td class="memItemRight"><a class="el" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a></td></tr>
<tr class="memitem:a45c7714fd31d0ae6950fb29d052fb96a" id="r_a45c7714fd31d0ae6950fb29d052fb96a"><td class="memItemLeft">D3DMATERIAL9&#160;</td><td class="memItemRight"><a class="el" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a></td></tr>
<tr class="memitem:a51159d8d8932ab30953858c7ca1bdd48" id="r_a51159d8d8932ab30953858c7ca1bdd48"><td class="memItemLeft">D3DMATERIAL9&#160;</td><td class="memItemRight"><a class="el" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a></td></tr>
<tr class="memitem:a2be159087c882a7b87955f8f289bc48e" id="r_a2be159087c882a7b87955f8f289bc48e"><td class="memItemLeft">D3DMATERIAL9&#160;</td><td class="memItemRight"><a class="el" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a></td></tr>
<tr class="memitem:ac44b59f478548b90bf00b93416f587b7" id="r_ac44b59f478548b90bf00b93416f587b7"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#ac44b59f478548b90bf00b93416f587b7">m_hitflag</a></td></tr>
<tr class="memitem:aa5ddfd8d19f6c802f14f1e91507e2462" id="r_aa5ddfd8d19f6c802f14f1e91507e2462"><td class="memItemLeft">bool&#160;</td><td class="memItemRight"><a class="el" href="#aa5ddfd8d19f6c802f14f1e91507e2462">m_isActive</a></td></tr>
</table>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">構築子と解体子</h2>
<a id="a50e398b13c09ee83a4dea988fa9a08d6" name="a50e398b13c09ee83a4dea988fa9a08d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e398b13c09ee83a4dea988fa9a08d6">&#9670;&#160;</a></span>COBB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COBB::COBB </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  189</span>           {</div>
<div class="line"><span class="lineno">  190</span>        <a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>=<span class="keyword">nullptr</span>;                      </div>
<div class="line"><span class="lineno">  191</span>        D3DXMatrixIdentity(&amp;<a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>);        <span class="comment">// 単位行列化</span></div>
<div class="line"><span class="lineno">  192</span>        <a class="code hl_function" href="#a229b363aae3659a16ba489e4b8324940">TraneparentMaterial</a>(0.3f);              <span class="comment">// 半透明マテリアル（ブルー）</span></div>
<div class="line"><span class="lineno">  193</span>        <a class="code hl_function" href="#a27bda7289b9f98cc3161fdcb44241176">TraneparentMaterialRed</a>(0.3f);           <span class="comment">// 半透明マテリアル（赤）</span></div>
<div class="line"><span class="lineno">  194</span>        <a class="code hl_function" href="#a7d45791c7e8d7301bbf58e2c6419fafd">TraneparentMaterialGray</a>(0.3f);</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>        <a class="code hl_variable" href="#aa5ddfd8d19f6c802f14f1e91507e2462">m_isActive</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="ttc" id="aclass_c_o_b_b_html_a229b363aae3659a16ba489e4b8324940"><div class="ttname"><a href="#a229b363aae3659a16ba489e4b8324940">COBB::TraneparentMaterial</a></div><div class="ttdeci">void TraneparentMaterial(float alpha)</div><div class="ttdef"><b>Definition</b> OBB.h:114</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_a27bda7289b9f98cc3161fdcb44241176"><div class="ttname"><a href="#a27bda7289b9f98cc3161fdcb44241176">COBB::TraneparentMaterialRed</a></div><div class="ttdeci">void TraneparentMaterialRed(float alpha)</div><div class="ttdef"><b>Definition</b> OBB.h:137</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_a4c53822263f9f92457781ebdad1c65f5"><div class="ttname"><a href="#a4c53822263f9f92457781ebdad1c65f5">COBB::m_matworld</a></div><div class="ttdeci">D3DXMATRIX m_matworld</div><div class="ttdef"><b>Definition</b> OBB.h:96</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_a7d45791c7e8d7301bbf58e2c6419fafd"><div class="ttname"><a href="#a7d45791c7e8d7301bbf58e2c6419fafd">COBB::TraneparentMaterialGray</a></div><div class="ttdeci">void TraneparentMaterialGray(float alpha)</div><div class="ttdef"><b>Definition</b> OBB.h:160</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_aa27fa21afdb04037f4ffe4ad07aea246"><div class="ttname"><a href="#aa27fa21afdb04037f4ffe4ad07aea246">COBB::m_boxmesh</a></div><div class="ttdeci">LPD3DXMESH m_boxmesh</div><div class="ttdef"><b>Definition</b> OBB.h:97</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_aa5ddfd8d19f6c802f14f1e91507e2462"><div class="ttname"><a href="#aa5ddfd8d19f6c802f14f1e91507e2462">COBB::m_isActive</a></div><div class="ttdeci">bool m_isActive</div><div class="ttdef"><b>Definition</b> OBB.h:103</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41d72d8363dbfe3bde858d2acde897f8" name="a41d72d8363dbfe3bde858d2acde897f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d72d8363dbfe3bde858d2acde897f8">&#9670;&#160;</a></span>~COBB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COBB::~COBB </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  199</span>            {</div>
<div class="line"><span class="lineno">  200</span>        <a class="code hl_function" href="#a7b4b4bec3ed2ff922bfc147781bb3e62">Exit</a>();</div>
<div class="line"><span class="lineno">  201</span>    }</div>
<div class="ttc" id="aclass_c_o_b_b_html_a7b4b4bec3ed2ff922bfc147781bb3e62"><div class="ttname"><a href="#a7b4b4bec3ed2ff922bfc147781bb3e62">COBB::Exit</a></div><div class="ttdeci">void Exit()</div><div class="ttdef"><b>Definition</b> OBB.h:248</div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">関数詳解</h2>
<a id="ab367f3fd3d2d66411fa7a8d291f4acf0" name="ab367f3fd3d2d66411fa7a8d291f4acf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab367f3fd3d2d66411fa7a8d291f4acf0">&#9670;&#160;</a></span>CalculateBoundingBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::CalculateBoundingBox </td>
          <td>(</td>
          <td class="paramtype">const LPD3DXMESH</td>          <td class="paramname"><span class="paramname"><em>lpmesh</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LPDIRECT3DDEVICE9</td>          <td class="paramname"><span class="paramname"><em>lpdevice</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   50</span>{</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    LPD3DXMESH      clonemesh;                      <span class="comment">// クローンメッシュ</span></div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    LPDIRECT3DVERTEXBUFFER9     lpVertexBuffer;     <span class="comment">// 頂点バッファ</span></div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordtype">int</span>                         numvertices;        <span class="comment">// 頂点数</span></div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordtype">float</span>           *x;                     <span class="comment">// 頂点座標データ</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordtype">float</span>           *y;                     <span class="comment">// 頂点座標データ</span></div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordtype">float</span>           *z;                     <span class="comment">// 頂点座標データ</span></div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordtype">float</span>           minx, miny, minz;       <span class="comment">// 最小値（Ｘ，Ｙ，Ｚ）</span></div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordtype">float</span>           maxx, maxy, maxz;       <span class="comment">// 最大値（Ｘ，Ｙ、Ｚ）</span></div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordtype">float</span>           cx, cy, cz;             <span class="comment">// 中心座標</span></div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    HRESULT         hr;                     <span class="comment">// 戻り値</span></div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    BYTE*   data;                           <span class="comment">// 頂点バッファ内の頂点データの先頭アドレス</span></div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordtype">float</span>*  pfloat;                         <span class="comment">// ワーク用のポインタ</span></div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordtype">void</span>* pVertices = NULL;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <span class="comment">// 当たり判定用データ作成のためにクローンメッシュを作成（頂点座標だけの）</span></div>
<div class="line"><span class="lineno">   73</span>    hr = lpmesh-&gt;CloneMeshFVF(D3DXMESH_MANAGED, (D3DFVF_XYZ), lpdevice, &amp;clonemesh);</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">if</span> (FAILED(hr)) {</div>
<div class="line"><span class="lineno">   75</span>        MessageBox(0, <span class="stringliteral">&quot;Clone mesh create error &quot;</span>, <span class="stringliteral">&quot;Clone mesh create error &quot;</span>, MB_OK);</div>
<div class="line"><span class="lineno">   76</span>    }</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   78</span>        numvertices = clonemesh-&gt;GetNumVertices();      <span class="comment">// 頂点数をゲット</span></div>
<div class="line"><span class="lineno">   79</span>        clonemesh-&gt;GetVertexBuffer(&amp;lpVertexBuffer);    <span class="comment">// 頂点バッファオブジェクトへのポインタをゲット</span></div>
<div class="line"><span class="lineno">   80</span>                                                        <span class="comment">// 頂点バッファロック</span></div>
<div class="line"><span class="lineno">   81</span>        hr = lpVertexBuffer-&gt;Lock(0,                    <span class="comment">// ０バイト目からロック</span></div>
<div class="line"><span class="lineno">   82</span>            0,</div>
<div class="line"><span class="lineno">   83</span>            (<span class="keywordtype">void</span>**)&amp;data,              <span class="comment">// 頂点座標の先頭アドレス格納場所</span></div>
<div class="line"><span class="lineno">   84</span>            D3DLOCK_READONLY);          <span class="comment">// 読み込み専用で取得</span></div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">if</span> (hr == D3D_OK) {</div>
<div class="line"><span class="lineno">   87</span>            <span class="comment">// 頂点数分の座標格納エリア確保</span></div>
<div class="line"><span class="lineno">   88</span>            x = <span class="keyword">new</span> <span class="keywordtype">float</span>[numvertices];</div>
<div class="line"><span class="lineno">   89</span>            y = <span class="keyword">new</span> <span class="keywordtype">float</span>[numvertices];</div>
<div class="line"><span class="lineno">   90</span>            z = <span class="keyword">new</span> <span class="keywordtype">float</span>[numvertices];</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>            <span class="comment">// 頂点をすべて取り出す</span></div>
<div class="line"><span class="lineno">   93</span>            pfloat = (<span class="keywordtype">float</span> *)data;</div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numvertices; i++) {</div>
<div class="line"><span class="lineno">   95</span>                x[i] = *pfloat++;           <span class="comment">// Ｘ座標取得</span></div>
<div class="line"><span class="lineno">   96</span>                y[i] = *pfloat++;           <span class="comment">// Ｙ座標取得</span></div>
<div class="line"><span class="lineno">   97</span>                z[i] = *pfloat++;           <span class="comment">// Ｚ座標取得</span></div>
<div class="line"><span class="lineno">   98</span>            }</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>            <span class="comment">// ＸＹＺそれぞれについて、最大値、最小値を求める</span></div>
<div class="line"><span class="lineno">  101</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numvertices; i++) {</div>
<div class="line"><span class="lineno">  102</span>                <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line"><span class="lineno">  103</span>                    minx = maxx = x[i];</div>
<div class="line"><span class="lineno">  104</span>                    miny = maxy = y[i];</div>
<div class="line"><span class="lineno">  105</span>                    minz = maxz = z[i];</div>
<div class="line"><span class="lineno">  106</span>                }</div>
<div class="line"><span class="lineno">  107</span>                <span class="keywordflow">if</span> (minx &gt;= x[i]) minx = x[i];</div>
<div class="line"><span class="lineno">  108</span>                <span class="keywordflow">if</span> (miny &gt;= y[i]) miny = y[i];</div>
<div class="line"><span class="lineno">  109</span>                <span class="keywordflow">if</span> (minz &gt;= z[i]) minz = z[i];</div>
<div class="line"><span class="lineno">  110</span>                <span class="keywordflow">if</span> (maxx &lt;= x[i]) maxx = x[i];</div>
<div class="line"><span class="lineno">  111</span>                <span class="keywordflow">if</span> (maxy &lt;= y[i]) maxy = y[i];</div>
<div class="line"><span class="lineno">  112</span>                <span class="keywordflow">if</span> (maxz &lt;= z[i]) maxz = z[i];</div>
<div class="line"><span class="lineno">  113</span>            }</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>            cx = (maxx + minx) / 2;     <span class="comment">// 球の中心座標を求める</span></div>
<div class="line"><span class="lineno">  116</span>            cy = (maxy + miny) / 2;     <span class="comment">// 球の中心座標を求める</span></div>
<div class="line"><span class="lineno">  117</span>            cz = (maxz + minz) / 2;     <span class="comment">// 球の中心座標を求める</span></div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>            <span class="keyword">delete</span>[] z;</div>
<div class="line"><span class="lineno">  120</span>            <span class="keyword">delete</span>[] y;</div>
<div class="line"><span class="lineno">  121</span>            <span class="keyword">delete</span>[] x;</div>
<div class="line"><span class="lineno">  122</span>            lpVertexBuffer-&gt;Unlock();</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>            <span class="comment">// 中心座標をセット</span></div>
<div class="line"><span class="lineno">  125</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.center.x = cx;</div>
<div class="line"><span class="lineno">  126</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.center.y = cy;</div>
<div class="line"><span class="lineno">  127</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.center.z = cz;</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.Currentcenter = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.center;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>            <span class="comment">// 大きさをセット</span></div>
<div class="line"><span class="lineno">  132</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.fLengthX = fabsf(maxx - minx);</div>
<div class="line"><span class="lineno">  133</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.fLengthY = fabsf(maxy - miny);</div>
<div class="line"><span class="lineno">  134</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.fLengthZ = fabsf(maxz - minz);</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>            <span class="comment">// ３軸をセット</span></div>
<div class="line"><span class="lineno">  137</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.vecAxisX = D3DXVECTOR3(1, 0, 0);</div>
<div class="line"><span class="lineno">  138</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.vecAxisY = D3DXVECTOR3(0, 1, 0);</div>
<div class="line"><span class="lineno">  139</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.vecAxisZ = D3DXVECTOR3(0, 0, 1);</div>
<div class="line"><span class="lineno">  140</span>        }</div>
<div class="line"><span class="lineno">  141</span>    }</div>
<div class="line"><span class="lineno">  142</span>    clonemesh-&gt;Release();</div>
<div class="line"><span class="lineno">  143</span>}</div>
<div class="ttc" id="aclass_c_o_b_b_html_ae4f53e32c3dabbc2ae94674c7b949de9"><div class="ttname"><a href="#ae4f53e32c3dabbc2ae94674c7b949de9">COBB::m_obbboxinfo</a></div><div class="ttdeci">OBBBBOX m_obbboxinfo</div><div class="ttdef"><b>Definition</b> OBB.h:95</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f998bb5c173166dd6b24ff5609438fb" name="a5f998bb5c173166dd6b24ff5609438fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f998bb5c173166dd6b24ff5609438fb">&#9670;&#160;</a></span>Collision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool COBB::Collision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_o_b_b.html">COBB</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>obb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  211</span>{</div>
<div class="line"><span class="lineno">  212</span>    <span class="comment">// 無効時は当たらない</span></div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#aa5ddfd8d19f6c802f14f1e91507e2462">m_isActive</a>) {</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span> (!obb.<a class="code hl_variable" href="#aa5ddfd8d19f6c802f14f1e91507e2462">m_isActive</a>) {</div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="comment">//分離軸</span></div>
<div class="line"><span class="lineno">  221</span>    D3DXVECTOR3 vecSeparate;</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="comment">// 2つのオブジェクトを結んだベクトルを計算</span></div>
<div class="line"><span class="lineno">  224</span>    D3DXVECTOR3 vecDistance;</div>
<div class="line"><span class="lineno">  225</span>    D3DXVECTOR3 obbpos = obb.<a class="code hl_function" href="#a327fdedcbf5d4f4962112745baa64fac">GetPosition</a>();</div>
<div class="line"><span class="lineno">  226</span>    vecDistance = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.Currentcenter - obbpos;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    OBBBBOX boxB, boxA;</div>
<div class="line"><span class="lineno">  229</span>    boxA = this-&gt;<a class="code hl_function" href="#aa6343a7954859501c0a52112bb269e02">GetOBB</a>();</div>
<div class="line"><span class="lineno">  230</span>    boxB = obb.<a class="code hl_function" href="#aa6343a7954859501c0a52112bb269e02">GetOBB</a>();</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordtype">bool</span> sts;           <span class="comment">// 戻り値</span></div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// OBB-A軸リスト</span></div>
<div class="line"><span class="lineno">  235</span>    D3DXVECTOR3* OBB_A_Axis[3] = {</div>
<div class="line"><span class="lineno">  236</span>        &amp;boxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#ab7396157e18eb849ebeec609df0c1285">CurrentvecAxisX</a>,</div>
<div class="line"><span class="lineno">  237</span>        &amp;boxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a9826d794e52abc22b3b26b0911c3065a">CurrentvecAxisY</a>,</div>
<div class="line"><span class="lineno">  238</span>        &amp;boxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a3000ba14b590b60eb92b77a5d5867bd7">CurrentvecAxisZ</a>,</div>
<div class="line"><span class="lineno">  239</span>    };</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="comment">// OBB-B軸リスト</span></div>
<div class="line"><span class="lineno">  242</span>    D3DXVECTOR3* OBB_B_Axis[3] = {</div>
<div class="line"><span class="lineno">  243</span>        &amp;boxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#ab7396157e18eb849ebeec609df0c1285">CurrentvecAxisX</a>,</div>
<div class="line"><span class="lineno">  244</span>        &amp;boxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a9826d794e52abc22b3b26b0911c3065a">CurrentvecAxisY</a>,</div>
<div class="line"><span class="lineno">  245</span>        &amp;boxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a3000ba14b590b60eb92b77a5d5867bd7">CurrentvecAxisZ</a>,</div>
<div class="line"><span class="lineno">  246</span>    };</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    <span class="comment">// OBB-Aの３軸を分離軸にしてチェック</span></div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {</div>
<div class="line"><span class="lineno">  250</span>        <span class="comment">// 分離軸（boxAのX軸)</span></div>
<div class="line"><span class="lineno">  251</span>        sts = <a class="code hl_function" href="#a4b59327646f2180bf94c5aefc0a2a056">CompareLength</a>(boxA,           <span class="comment">// OBB-A</span></div>
<div class="line"><span class="lineno">  252</span>            boxB,                           <span class="comment">// OBB-B</span></div>
<div class="line"><span class="lineno">  253</span>            *OBB_A_Axis[i],                 <span class="comment">// 分離軸</span></div>
<div class="line"><span class="lineno">  254</span>            vecDistance);                   <span class="comment">// ２つのオブジェクトを結ぶベクトル</span></div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">if</span> (sts == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  256</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  257</span>        }</div>
<div class="line"><span class="lineno">  258</span>    }</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    <span class="comment">// OBB-Bの３軸を分離軸にしてチェック</span></div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++) {</div>
<div class="line"><span class="lineno">  262</span>        <span class="comment">// 分離軸（boxAのX軸)</span></div>
<div class="line"><span class="lineno">  263</span>        sts = <a class="code hl_function" href="#a4b59327646f2180bf94c5aefc0a2a056">CompareLength</a>(boxA,           <span class="comment">// OBB-A</span></div>
<div class="line"><span class="lineno">  264</span>            boxB,                           <span class="comment">// OBB-B</span></div>
<div class="line"><span class="lineno">  265</span>            *OBB_B_Axis[i],                 <span class="comment">// 分離軸</span></div>
<div class="line"><span class="lineno">  266</span>            vecDistance);                   <span class="comment">// ２つのオブジェクトを結ぶベクトル</span></div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">if</span> (sts == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  269</span>        }</div>
<div class="line"><span class="lineno">  270</span>    }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">// 外積を分離軸として計算</span></div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p1 = 0; p1 &lt; 3; p1++) {</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p2 = 0; p2 &lt; 3; p2++) {</div>
<div class="line"><span class="lineno">  275</span>            D3DXVECTOR3 crossseparate;                  <span class="comment">// 外積ベクトル</span></div>
<div class="line"><span class="lineno">  276</span>                                                        <span class="comment">// 外積を計算</span></div>
<div class="line"><span class="lineno">  277</span>            D3DXVec3Cross(&amp;crossseparate, OBB_A_Axis[p1], OBB_B_Axis[p2]);</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>            sts = <a class="code hl_function" href="#a4b59327646f2180bf94c5aefc0a2a056">CompareLength</a>(</div>
<div class="line"><span class="lineno">  280</span>                boxA,               <span class="comment">// OBB-A</span></div>
<div class="line"><span class="lineno">  281</span>                boxB,               <span class="comment">// OBB-B</span></div>
<div class="line"><span class="lineno">  282</span>                crossseparate,      <span class="comment">// 分離軸</span></div>
<div class="line"><span class="lineno">  283</span>                vecDistance);       <span class="comment">// ２つのオブジェクトを結ぶベクトル</span></div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">if</span> (sts == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  285</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  286</span>            }</div>
<div class="line"><span class="lineno">  287</span>        }</div>
<div class="line"><span class="lineno">  288</span>    }</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  290</span>}</div>
<div class="ttc" id="aclass_c_o_b_b_html_a327fdedcbf5d4f4962112745baa64fac"><div class="ttname"><a href="#a327fdedcbf5d4f4962112745baa64fac">COBB::GetPosition</a></div><div class="ttdeci">D3DXVECTOR3 GetPosition()</div><div class="ttdef"><b>Definition</b> OBB.h:263</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_a4b59327646f2180bf94c5aefc0a2a056"><div class="ttname"><a href="#a4b59327646f2180bf94c5aefc0a2a056">COBB::CompareLength</a></div><div class="ttdeci">bool CompareLength(const OBBBBOX &amp;pboxA, const OBBBBOX &amp;pboxB, const D3DXVECTOR3 &amp;pvecSeparate, const D3DXVECTOR3 &amp;pvecDistance)</div><div class="ttdef"><b>Definition</b> OBB.cpp:8</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_aa6343a7954859501c0a52112bb269e02"><div class="ttname"><a href="#aa6343a7954859501c0a52112bb269e02">COBB::GetOBB</a></div><div class="ttdeci">OBBBBOX GetOBB()</div><div class="ttdef"><b>Definition</b> OBB.h:267</div></div>
<div class="ttc" id="astruct_o_b_b_b_b_o_x_html_a3000ba14b590b60eb92b77a5d5867bd7"><div class="ttname"><a href="struct_o_b_b_b_b_o_x.html#a3000ba14b590b60eb92b77a5d5867bd7">OBBBBOX::CurrentvecAxisZ</a></div><div class="ttdeci">D3DXVECTOR3 CurrentvecAxisZ</div><div class="ttdef"><b>Definition</b> OBB.h:18</div></div>
<div class="ttc" id="astruct_o_b_b_b_b_o_x_html_a9826d794e52abc22b3b26b0911c3065a"><div class="ttname"><a href="struct_o_b_b_b_b_o_x.html#a9826d794e52abc22b3b26b0911c3065a">OBBBBOX::CurrentvecAxisY</a></div><div class="ttdeci">D3DXVECTOR3 CurrentvecAxisY</div><div class="ttdef"><b>Definition</b> OBB.h:17</div></div>
<div class="ttc" id="astruct_o_b_b_b_b_o_x_html_ab7396157e18eb849ebeec609df0c1285"><div class="ttname"><a href="struct_o_b_b_b_b_o_x.html#ab7396157e18eb849ebeec609df0c1285">OBBBBOX::CurrentvecAxisX</a></div><div class="ttdeci">D3DXVECTOR3 CurrentvecAxisX</div><div class="ttdef"><b>Definition</b> OBB.h:16</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b59327646f2180bf94c5aefc0a2a056" name="a4b59327646f2180bf94c5aefc0a2a056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b59327646f2180bf94c5aefc0a2a056">&#9670;&#160;</a></span>CompareLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COBB::CompareLength </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pboxA</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pboxB</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const D3DXVECTOR3 &amp;</td>          <td class="paramname"><span class="paramname"><em>pvecSeparate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const D3DXVECTOR3 &amp;</td>          <td class="paramname"><span class="paramname"><em>pvecDistance</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   13</span>{</div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordtype">float</span> fDistance = fabsf(D3DXVec3Dot(&amp;pvecDistance, &amp;pvecSeparate));</div>
<div class="line"><span class="lineno">   15</span>    <span class="comment">// 分離軸に射影した中心間を結ぶベクトル</span></div>
<div class="line"><span class="lineno">   16</span> </div>
<div class="line"><span class="lineno">   17</span>    <span class="comment">//分離軸上にボックスAを射影した影の長さ</span></div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordtype">float</span> fShadowA = 0;</div>
<div class="line"><span class="lineno">   19</span> </div>
<div class="line"><span class="lineno">   20</span>    <span class="comment">//分離軸上にボックスＢを射影した影の長さ</span></div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordtype">float</span> fShadowB = 0;</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span>    <span class="comment">//それぞれのボックスの”影”を算出</span></div>
<div class="line"><span class="lineno">   24</span>    fShadowA =</div>
<div class="line"><span class="lineno">   25</span>        <span class="comment">// 指定軸へのバウンディングボックスAのX軸への射影</span></div>
<div class="line"><span class="lineno">   26</span>        fabsf(D3DXVec3Dot(&amp;pvecSeparate, &amp;pboxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#ab7396157e18eb849ebeec609df0c1285">CurrentvecAxisX</a>) * (pboxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#ad30e2409dcfcce377d96b4bda5d21bf3">fLengthX</a>) / 2) +</div>
<div class="line"><span class="lineno">   27</span>        <span class="comment">// 指定軸へのバウンディングボックスAのY軸への射影</span></div>
<div class="line"><span class="lineno">   28</span>        fabsf(D3DXVec3Dot(&amp;pvecSeparate, &amp;pboxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a9826d794e52abc22b3b26b0911c3065a">CurrentvecAxisY</a>) * (pboxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#aaed93b2d3b2f6f36ca98e81730d6a38e">fLengthY</a>) / 2) +</div>
<div class="line"><span class="lineno">   29</span>        <span class="comment">// 指定軸へのバウンディングボックスAのZ軸への射影 </span></div>
<div class="line"><span class="lineno">   30</span>        fabsf(D3DXVec3Dot(&amp;pvecSeparate, &amp;pboxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a3000ba14b590b60eb92b77a5d5867bd7">CurrentvecAxisZ</a>) * (pboxA.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a8cce805a75adebaaa614ea87caa56ddc">fLengthZ</a>) / 2);</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>    fShadowB =</div>
<div class="line"><span class="lineno">   33</span>        <span class="comment">// 指定軸へのバウンディングボックスBのX軸への射影</span></div>
<div class="line"><span class="lineno">   34</span>        fabsf(D3DXVec3Dot(&amp;pvecSeparate, &amp;pboxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#ab7396157e18eb849ebeec609df0c1285">CurrentvecAxisX</a>) * (pboxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#ad30e2409dcfcce377d96b4bda5d21bf3">fLengthX</a>) / 2) +</div>
<div class="line"><span class="lineno">   35</span>        <span class="comment">// 指定軸へのバウンディングボックスBのY軸への射影</span></div>
<div class="line"><span class="lineno">   36</span>        fabsf(D3DXVec3Dot(&amp;pvecSeparate, &amp;pboxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a9826d794e52abc22b3b26b0911c3065a">CurrentvecAxisY</a>) * (pboxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#aaed93b2d3b2f6f36ca98e81730d6a38e">fLengthY</a>) / 2) +</div>
<div class="line"><span class="lineno">   37</span>        <span class="comment">// 指定軸へのバウンディングボックスBのZ軸への射影</span></div>
<div class="line"><span class="lineno">   38</span>        fabsf(D3DXVec3Dot(&amp;pvecSeparate, &amp;pboxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a3000ba14b590b60eb92b77a5d5867bd7">CurrentvecAxisZ</a>) * (pboxB.<a class="code hl_variable" href="struct_o_b_b_b_b_o_x.html#a8cce805a75adebaaa614ea87caa56ddc">fLengthZ</a>) / 2);</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">if</span> (fDistance &gt; fShadowA + fShadowB) {</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   42</span>    }</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   45</span>}</div>
<div class="ttc" id="astruct_o_b_b_b_b_o_x_html_a8cce805a75adebaaa614ea87caa56ddc"><div class="ttname"><a href="struct_o_b_b_b_b_o_x.html#a8cce805a75adebaaa614ea87caa56ddc">OBBBBOX::fLengthZ</a></div><div class="ttdeci">float fLengthZ</div><div class="ttdef"><b>Definition</b> OBB.h:14</div></div>
<div class="ttc" id="astruct_o_b_b_b_b_o_x_html_aaed93b2d3b2f6f36ca98e81730d6a38e"><div class="ttname"><a href="struct_o_b_b_b_b_o_x.html#aaed93b2d3b2f6f36ca98e81730d6a38e">OBBBBOX::fLengthY</a></div><div class="ttdeci">float fLengthY</div><div class="ttdef"><b>Definition</b> OBB.h:13</div></div>
<div class="ttc" id="astruct_o_b_b_b_b_o_x_html_ad30e2409dcfcce377d96b4bda5d21bf3"><div class="ttname"><a href="struct_o_b_b_b_b_o_x.html#ad30e2409dcfcce377d96b4bda5d21bf3">OBBBBOX::fLengthX</a></div><div class="ttdeci">float fLengthX</div><div class="ttdef"><b>Definition</b> OBB.h:12</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a45504f9e2ce5fb07b09f4c001c6d8b22" name="a45504f9e2ce5fb07b09f4c001c6d8b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45504f9e2ce5fb07b09f4c001c6d8b22">&#9670;&#160;</a></span>CreateBoxMesh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LPD3DXMESH COBB::CreateBoxMesh </td>
          <td>(</td>
          <td class="paramtype">const LPDIRECT3DDEVICE9</td>          <td class="paramname"><span class="paramname"><em>lpdev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  203</span>                                                            {</div>
<div class="line"><span class="lineno">  204</span>        <span class="comment">// バウンディングボックスを表すＢＯＸメッシュを生成</span></div>
<div class="line"><span class="lineno">  205</span>        D3DXCreateBox(</div>
<div class="line"><span class="lineno">  206</span>            lpdev,</div>
<div class="line"><span class="lineno">  207</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.fLengthX,              <span class="comment">// 幅</span></div>
<div class="line"><span class="lineno">  208</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.fLengthY,              <span class="comment">// 高さ</span></div>
<div class="line"><span class="lineno">  209</span>            <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.fLengthZ,              <span class="comment">// 奥行</span></div>
<div class="line"><span class="lineno">  210</span>            &amp;<a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>,</div>
<div class="line"><span class="lineno">  211</span>            <span class="keyword">nullptr</span></div>
<div class="line"><span class="lineno">  212</span>        );</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>;</div>
<div class="line"><span class="lineno">  215</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae44ee15d435e6938c38c930b776553bf" name="ae44ee15d435e6938c38c930b776553bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44ee15d435e6938c38c930b776553bf">&#9670;&#160;</a></span>Draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::Draw </td>
          <td>(</td>
          <td class="paramtype">LPDIRECT3DDEVICE9</td>          <td class="paramname"><span class="paramname"><em>lpdev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  182</span>{</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#aa5ddfd8d19f6c802f14f1e91507e2462">m_isActive</a>) {</div>
<div class="line"><span class="lineno">  184</span>        lpdev-&gt;SetMaterial(&amp;<a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>);</div>
<div class="line"><span class="lineno">  185</span>        lpdev-&gt;SetTexture(0, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  186</span>        lpdev-&gt;SetTransform(D3DTS_WORLD, &amp;<a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>);</div>
<div class="line"><span class="lineno">  187</span>        <a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>-&gt;DrawSubset(0);</div>
<div class="line"><span class="lineno">  188</span>    }</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ac44b59f478548b90bf00b93416f587b7">m_hitflag</a> == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  191</span>            lpdev-&gt;SetMaterial(&amp;<a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>);</div>
<div class="line"><span class="lineno">  192</span>            lpdev-&gt;SetTexture(0, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  193</span>            lpdev-&gt;SetTransform(D3DTS_WORLD, &amp;<a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>);</div>
<div class="line"><span class="lineno">  194</span>            <a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>-&gt;DrawSubset(0);</div>
<div class="line"><span class="lineno">  195</span>        }</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  197</span>            <a class="code hl_function" href="#a2b99a8ac480b5bc5bed1323f6c0c2f98">DrawRed</a>(lpdev);</div>
<div class="line"><span class="lineno">  198</span>        }</div>
<div class="line"><span class="lineno">  199</span>    }</div>
<div class="line"><span class="lineno">  200</span>}</div>
<div class="ttc" id="aclass_c_o_b_b_html_a2b99a8ac480b5bc5bed1323f6c0c2f98"><div class="ttname"><a href="#a2b99a8ac480b5bc5bed1323f6c0c2f98">COBB::DrawRed</a></div><div class="ttdeci">void DrawRed(LPDIRECT3DDEVICE9 lpdev)</div><div class="ttdef"><b>Definition</b> OBB.cpp:202</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_a2be159087c882a7b87955f8f289bc48e"><div class="ttname"><a href="#a2be159087c882a7b87955f8f289bc48e">COBB::m_materialG</a></div><div class="ttdeci">D3DMATERIAL9 m_materialG</div><div class="ttdef"><b>Definition</b> OBB.h:100</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_a45c7714fd31d0ae6950fb29d052fb96a"><div class="ttname"><a href="#a45c7714fd31d0ae6950fb29d052fb96a">COBB::m_material</a></div><div class="ttdeci">D3DMATERIAL9 m_material</div><div class="ttdef"><b>Definition</b> OBB.h:98</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_ac44b59f478548b90bf00b93416f587b7"><div class="ttname"><a href="#ac44b59f478548b90bf00b93416f587b7">COBB::m_hitflag</a></div><div class="ttdeci">bool m_hitflag</div><div class="ttdef"><b>Definition</b> OBB.h:102</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b99a8ac480b5bc5bed1323f6c0c2f98" name="a2b99a8ac480b5bc5bed1323f6c0c2f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b99a8ac480b5bc5bed1323f6c0c2f98">&#9670;&#160;</a></span>DrawRed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::DrawRed </td>
          <td>(</td>
          <td class="paramtype">LPDIRECT3DDEVICE9</td>          <td class="paramname"><span class="paramname"><em>lpdev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  203</span>{</div>
<div class="line"><span class="lineno">  204</span>    lpdev-&gt;SetMaterial(&amp;<a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>);</div>
<div class="line"><span class="lineno">  205</span>    lpdev-&gt;SetTexture(0, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  206</span>    lpdev-&gt;SetTransform(D3DTS_WORLD, &amp;<a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>);</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>-&gt;DrawSubset(0);</div>
<div class="line"><span class="lineno">  208</span>}</div>
<div class="ttc" id="aclass_c_o_b_b_html_a51159d8d8932ab30953858c7ca1bdd48"><div class="ttname"><a href="#a51159d8d8932ab30953858c7ca1bdd48">COBB::m_materialR</a></div><div class="ttdeci">D3DMATERIAL9 m_materialR</div><div class="ttdef"><b>Definition</b> OBB.h:99</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b4b4bec3ed2ff922bfc147781bb3e62" name="a7b4b4bec3ed2ff922bfc147781bb3e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4b4bec3ed2ff922bfc147781bb3e62">&#9670;&#160;</a></span>Exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::Exit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  248</span>                {</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>){</div>
<div class="line"><span class="lineno">  250</span>            <a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>-&gt;Release();</div>
<div class="line"><span class="lineno">  251</span>            <a class="code hl_variable" href="#aa27fa21afdb04037f4ffe4ad07aea246">m_boxmesh</a>=<span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  252</span>        }</div>
<div class="line"><span class="lineno">  253</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae93649f92d0c70f80a16964e7908d245" name="ae93649f92d0c70f80a16964e7908d245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93649f92d0c70f80a16964e7908d245">&#9670;&#160;</a></span>GetIsActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COBB::GetIsActive </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  292</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#aa5ddfd8d19f6c802f14f1e91507e2462">m_isActive</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af02b766f3bb2d4875444fb7e0bf11338" name="af02b766f3bb2d4875444fb7e0bf11338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af02b766f3bb2d4875444fb7e0bf11338">&#9670;&#160;</a></span>GetMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">D3DXMATRIX COBB::GetMatrix </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  271</span>                           {</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>;</div>
<div class="line"><span class="lineno">  273</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6343a7954859501c0a52112bb269e02" name="aa6343a7954859501c0a52112bb269e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6343a7954859501c0a52112bb269e02">&#9670;&#160;</a></span>GetOBB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a> COBB::GetOBB </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  267</span>                     {</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>;</div>
<div class="line"><span class="lineno">  269</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a327fdedcbf5d4f4962112745baa64fac" name="a327fdedcbf5d4f4962112745baa64fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a327fdedcbf5d4f4962112745baa64fac">&#9670;&#160;</a></span>GetPosition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">D3DXVECTOR3 COBB::GetPosition </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  263</span>                              {</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.Currentcenter;</div>
<div class="line"><span class="lineno">  265</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6c94b71b9dc8d5e1807ad8c1acbd34d" name="ad6c94b71b9dc8d5e1807ad8c1acbd34d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c94b71b9dc8d5e1807ad8c1acbd34d">&#9670;&#160;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::Init </td>
          <td>(</td>
          <td class="paramtype">LPD3DXMESH</td>          <td class="paramname"><span class="paramname"><em>mesh</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPDIRECT3DDEVICE9</td>          <td class="paramname"><span class="paramname"><em>lpdev</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  242</span>                                                       {</div>
<div class="line"><span class="lineno">  243</span>        <a class="code hl_function" href="#ab367f3fd3d2d66411fa7a8d291f4acf0">CalculateBoundingBox</a>(mesh,lpdev);           <span class="comment">// OBBBOX作成</span></div>
<div class="line"><span class="lineno">  244</span>        <a class="code hl_function" href="#a229b363aae3659a16ba489e4b8324940">TraneparentMaterial</a>(0.3f);                  <span class="comment">// 半透明マテリアル</span></div>
<div class="line"><span class="lineno">  245</span>        <a class="code hl_function" href="#a45504f9e2ce5fb07b09f4c001c6d8b22">CreateBoxMesh</a>(lpdev);                       <span class="comment">// メッシュ作成</span></div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="ttc" id="aclass_c_o_b_b_html_a45504f9e2ce5fb07b09f4c001c6d8b22"><div class="ttname"><a href="#a45504f9e2ce5fb07b09f4c001c6d8b22">COBB::CreateBoxMesh</a></div><div class="ttdeci">LPD3DXMESH CreateBoxMesh(const LPDIRECT3DDEVICE9 lpdev)</div><div class="ttdef"><b>Definition</b> OBB.h:203</div></div>
<div class="ttc" id="aclass_c_o_b_b_html_ab367f3fd3d2d66411fa7a8d291f4acf0"><div class="ttname"><a href="#ab367f3fd3d2d66411fa7a8d291f4acf0">COBB::CalculateBoundingBox</a></div><div class="ttdeci">void CalculateBoundingBox(const LPD3DXMESH lpmesh, const LPDIRECT3DDEVICE9 lpdevice)</div><div class="ttdef"><b>Definition</b> OBB.cpp:47</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5827cf50cb26e8e3acd891f404dddd9" name="ac5827cf50cb26e8e3acd891f404dddd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5827cf50cb26e8e3acd891f404dddd9">&#9670;&#160;</a></span>isHit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COBB::isHit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  275</span>                 {</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#ac44b59f478548b90bf00b93416f587b7">m_hitflag</a>;</div>
<div class="line"><span class="lineno">  277</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2f02df58eaed6828b6deb577db83e75" name="aa2f02df58eaed6828b6deb577db83e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f02df58eaed6828b6deb577db83e75">&#9670;&#160;</a></span>PCA()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a> COBB::PCA </td>
          <td>(</td>
          <td class="paramtype">D3DXVECTOR3 *</td>          <td class="paramname"><span class="paramname"><em>Vertices</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DWORD *</td>          <td class="paramname"><span class="paramname"><em>vindex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>numVertices</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  220</span>                                 {              <span class="comment">// 頂点数</span></div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        CBBoxGenerater  Generater;          <span class="comment">// PCA分析でBBOXを作るクラス</span></div>
<div class="line"><span class="lineno">  223</span>        D3DXMATRIX      eigenmat;           <span class="comment">// 固有値行列</span></div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>        <span class="comment">// 共分散行列を作成</span></div>
<div class="line"><span class="lineno">  226</span>        D3DXMATRIX mat = Generater.<a class="code hl_function" href="class_c_b_box_generater.html#a432b4754e676294e42fb2c1fdacd2fe4">GetCovarianceMatrix</a>(Vertices, </div>
<div class="line"><span class="lineno">  227</span>                                                    vindex, </div>
<div class="line"><span class="lineno">  228</span>                                                    numVertices);</div>
<div class="line"><span class="lineno">  229</span>        <span class="comment">// 固有ベクトルを計算</span></div>
<div class="line"><span class="lineno">  230</span>        Generater.<a class="code hl_function" href="class_c_b_box_generater.html#a51e38060a3d5125554c35084016cb84f">GetEigenVector</a>(mat, eigenmat);</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        <span class="comment">// 固有ベクトルを基にしてＢＢＯＸを作成</span></div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a> = Generater.<a class="code hl_function" href="class_c_b_box_generater.html#a3d1bc04617993744c82511e677eac229">CalcBBox</a>(</div>
<div class="line"><span class="lineno">  234</span>                            Vertices,       <span class="comment">// 頂点座標群</span></div>
<div class="line"><span class="lineno">  235</span>                            vindex,         <span class="comment">// インデックス数</span></div>
<div class="line"><span class="lineno">  236</span>                            numVertices,    <span class="comment">// 頂点数</span></div>
<div class="line"><span class="lineno">  237</span>                            eigenmat);      <span class="comment">// 固有ベクトル</span></div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>;</div>
<div class="line"><span class="lineno">  240</span>    }</div>
<div class="ttc" id="aclass_c_b_box_generater_html_a3d1bc04617993744c82511e677eac229"><div class="ttname"><a href="class_c_b_box_generater.html#a3d1bc04617993744c82511e677eac229">CBBoxGenerater::CalcBBox</a></div><div class="ttdeci">OBBBBOX CalcBBox(D3DXVECTOR3 *vertex, DWORD *index, int numVetices, D3DXMATRIX eigenmat)</div><div class="ttdef"><b>Definition</b> OBB.h:35</div></div>
<div class="ttc" id="aclass_c_b_box_generater_html_a432b4754e676294e42fb2c1fdacd2fe4"><div class="ttname"><a href="class_c_b_box_generater.html#a432b4754e676294e42fb2c1fdacd2fe4">CBBoxGenerater::GetCovarianceMatrix</a></div><div class="ttdeci">D3DXMATRIX GetCovarianceMatrix(D3DXVECTOR3 *vertex, DWORD *index, int numVertices)</div><div class="ttdef"><b>Definition</b> OBB.cpp:295</div></div>
<div class="ttc" id="aclass_c_b_box_generater_html_a51e38060a3d5125554c35084016cb84f"><div class="ttname"><a href="class_c_b_box_generater.html#a51e38060a3d5125554c35084016cb84f">CBBoxGenerater::GetEigenVector</a></div><div class="ttdeci">bool GetEigenVector(D3DXMATRIX &amp;a, D3DXMATRIX &amp;x)</div><div class="ttdef"><b>Definition</b> OBB.cpp:338</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7e4dcc043417c170b4935752fd4b9a9" name="af7e4dcc043417c170b4935752fd4b9a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7e4dcc043417c170b4935752fd4b9a9">&#9670;&#160;</a></span>SetHit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::SetHit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  279</span>                  {</div>
<div class="line"><span class="lineno">  280</span>        <a class="code hl_variable" href="#ac44b59f478548b90bf00b93416f587b7">m_hitflag</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  281</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a967cd1f9aa74cbfb8cd9ac1d758681c5" name="a967cd1f9aa74cbfb8cd9ac1d758681c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967cd1f9aa74cbfb8cd9ac1d758681c5">&#9670;&#160;</a></span>SetIsActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::SetIsActive </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>_state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  288</span>    {</div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_variable" href="#aa5ddfd8d19f6c802f14f1e91507e2462">m_isActive</a> = _state;</div>
<div class="line"><span class="lineno">  290</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a26c9160bf2252d27b31c7cea42f5441d" name="a26c9160bf2252d27b31c7cea42f5441d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c9160bf2252d27b31c7cea42f5441d">&#9670;&#160;</a></span>SetNotHit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::SetNotHit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  283</span>                     {</div>
<div class="line"><span class="lineno">  284</span>        <a class="code hl_variable" href="#ac44b59f478548b90bf00b93416f587b7">m_hitflag</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  285</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a229b363aae3659a16ba489e4b8324940" name="a229b363aae3659a16ba489e4b8324940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229b363aae3659a16ba489e4b8324940">&#9670;&#160;</a></span>TraneparentMaterial()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::TraneparentMaterial </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>alpha</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span>                                          {</div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">// 半透明なマテリアルを生成</span></div>
<div class="line"><span class="lineno">  116</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Diffuse.r = 0.0f;</div>
<div class="line"><span class="lineno">  117</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Diffuse.g = 0.0f;</div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Diffuse.b = 1.0f;</div>
<div class="line"><span class="lineno">  119</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Diffuse.a = alpha;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Ambient.r = 0.0f;</div>
<div class="line"><span class="lineno">  122</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Ambient.g = 0.0f;</div>
<div class="line"><span class="lineno">  123</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Ambient.b = 1.0f;</div>
<div class="line"><span class="lineno">  124</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Ambient.a = 1.0f;</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Specular.r = 0.0f;</div>
<div class="line"><span class="lineno">  127</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Specular.g = 0.0f;</div>
<div class="line"><span class="lineno">  128</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Specular.b = 1.0f;</div>
<div class="line"><span class="lineno">  129</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Specular.a = 1.0f;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Emissive.r = 0.0f;</div>
<div class="line"><span class="lineno">  132</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Emissive.g = 0.0f;</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Emissive.b = 0.0f;</div>
<div class="line"><span class="lineno">  134</span>        <a class="code hl_variable" href="#a45c7714fd31d0ae6950fb29d052fb96a">m_material</a>.Emissive.a = 0.0f;</div>
<div class="line"><span class="lineno">  135</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d45791c7e8d7301bbf58e2c6419fafd" name="a7d45791c7e8d7301bbf58e2c6419fafd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d45791c7e8d7301bbf58e2c6419fafd">&#9670;&#160;</a></span>TraneparentMaterialGray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::TraneparentMaterialGray </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>alpha</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  161</span>    {</div>
<div class="line"><span class="lineno">  162</span>        <span class="comment">// 半透明なマテリアルを生成</span></div>
<div class="line"><span class="lineno">  163</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Diffuse.r = 0.0f;</div>
<div class="line"><span class="lineno">  164</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Diffuse.g = 0.0f;</div>
<div class="line"><span class="lineno">  165</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Diffuse.b = 0.0f;</div>
<div class="line"><span class="lineno">  166</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Diffuse.a = alpha;</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Ambient.r = 0.0f;</div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Ambient.g = 0.0f;</div>
<div class="line"><span class="lineno">  170</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Ambient.b = 0.0f;</div>
<div class="line"><span class="lineno">  171</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Ambient.a = 1.0f;</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Specular.r = 0.0f;</div>
<div class="line"><span class="lineno">  174</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Specular.g = 0.0f;</div>
<div class="line"><span class="lineno">  175</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Specular.b = 0.0f;</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Specular.a = 1.0f;</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Emissive.r = 0.0f;</div>
<div class="line"><span class="lineno">  179</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Emissive.g = 0.0f;</div>
<div class="line"><span class="lineno">  180</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Emissive.b = 0.0f;</div>
<div class="line"><span class="lineno">  181</span>        <a class="code hl_variable" href="#a2be159087c882a7b87955f8f289bc48e">m_materialG</a>.Emissive.a = 0.0f;</div>
<div class="line"><span class="lineno">  182</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a27bda7289b9f98cc3161fdcb44241176" name="a27bda7289b9f98cc3161fdcb44241176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27bda7289b9f98cc3161fdcb44241176">&#9670;&#160;</a></span>TraneparentMaterialRed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::TraneparentMaterialRed </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>alpha</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  137</span>                                             {</div>
<div class="line"><span class="lineno">  138</span>        <span class="comment">// 半透明なマテリアルを生成</span></div>
<div class="line"><span class="lineno">  139</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Diffuse.r = 1.0f;</div>
<div class="line"><span class="lineno">  140</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Diffuse.g = 0.0f;</div>
<div class="line"><span class="lineno">  141</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Diffuse.b = 0.0f;</div>
<div class="line"><span class="lineno">  142</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Diffuse.a = alpha;</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Ambient.r = 1.0f;</div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Ambient.g = 0.0f;</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Ambient.b = 0.0f;</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Ambient.a = 1.0f;</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Specular.r = 1.0f;</div>
<div class="line"><span class="lineno">  150</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Specular.g = 0.0f;</div>
<div class="line"><span class="lineno">  151</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Specular.b = 0.0f;</div>
<div class="line"><span class="lineno">  152</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Specular.a = 1.0f;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Emissive.r = 0.0f;</div>
<div class="line"><span class="lineno">  155</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Emissive.g = 0.0f;</div>
<div class="line"><span class="lineno">  156</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Emissive.b = 0.0f;</div>
<div class="line"><span class="lineno">  157</span>        <a class="code hl_variable" href="#a51159d8d8932ab30953858c7ca1bdd48">m_materialR</a>.Emissive.a = 0.0f;</div>
<div class="line"><span class="lineno">  158</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aca92a6b73d95344a977324bb96e819d3" name="aca92a6b73d95344a977324bb96e819d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca92a6b73d95344a977324bb96e819d3">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void COBB::Update </td>
          <td>(</td>
          <td class="paramtype">D3DXMATRIX &amp;</td>          <td class="paramname"><span class="paramname"><em>matworld</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  146</span>{</div>
<div class="line"><span class="lineno">  147</span>    D3DXMATRIX  mat = matworld;</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="comment">// OBBの中心座標を更新</span></div>
<div class="line"><span class="lineno">  150</span>    D3DXVec3TransformCoord(&amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.Currentcenter, &amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.center, &amp;matworld);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="comment">//行列を回転成分のみにする</span></div>
<div class="line"><span class="lineno">  153</span>    mat._41 = 0; mat._42 = 0; mat._43 = 0; mat._44 = 1;</div>
<div class="line"><span class="lineno">  154</span>    mat._14 = 0; mat._24 = 0; mat._34 = 0;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">// 共分散行列で求めた固有ベクトル（Ｘ、Ｙ、Ｚ軸）をボーンを描画する行列で座標変換する</span></div>
<div class="line"><span class="lineno">  157</span>    D3DXVec3TransformCoord(&amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisX, &amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.vecAxisX, &amp;mat);</div>
<div class="line"><span class="lineno">  158</span>    D3DXVec3TransformCoord(&amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisY, &amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.vecAxisY, &amp;mat);</div>
<div class="line"><span class="lineno">  159</span>    D3DXVec3TransformCoord(&amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisZ, &amp;<a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.vecAxisZ, &amp;mat);</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">// 求めたベクトルでＢＢＯＸの行列を求める</span></div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._11 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisX.x;</div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._12 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisX.y;</div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._13 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisX.z;</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._21 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisY.x;</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._22 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisY.y;</div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._23 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisY.z;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._31 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisZ.x;</div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._32 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisZ.y;</div>
<div class="line"><span class="lineno">  172</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._33 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.CurrentvecAxisZ.z;</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._41 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.Currentcenter.x;</div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._42 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.Currentcenter.y;</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_variable" href="#a4c53822263f9f92457781ebdad1c65f5">m_matworld</a>._43 = <a class="code hl_variable" href="#ae4f53e32c3dabbc2ae94674c7b949de9">m_obbboxinfo</a>.Currentcenter.z;</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_variable" href="#ac44b59f478548b90bf00b93416f587b7">m_hitflag</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  179</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">メンバ詳解</h2>
<a id="aa27fa21afdb04037f4ffe4ad07aea246" name="aa27fa21afdb04037f4ffe4ad07aea246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa27fa21afdb04037f4ffe4ad07aea246">&#9670;&#160;</a></span>m_boxmesh</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LPD3DXMESH COBB::m_boxmesh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac44b59f478548b90bf00b93416f587b7" name="ac44b59f478548b90bf00b93416f587b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac44b59f478548b90bf00b93416f587b7">&#9670;&#160;</a></span>m_hitflag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COBB::m_hitflag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa5ddfd8d19f6c802f14f1e91507e2462" name="aa5ddfd8d19f6c802f14f1e91507e2462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ddfd8d19f6c802f14f1e91507e2462">&#9670;&#160;</a></span>m_isActive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool COBB::m_isActive</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a45c7714fd31d0ae6950fb29d052fb96a" name="a45c7714fd31d0ae6950fb29d052fb96a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c7714fd31d0ae6950fb29d052fb96a">&#9670;&#160;</a></span>m_material</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">D3DMATERIAL9 COBB::m_material</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2be159087c882a7b87955f8f289bc48e" name="a2be159087c882a7b87955f8f289bc48e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2be159087c882a7b87955f8f289bc48e">&#9670;&#160;</a></span>m_materialG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">D3DMATERIAL9 COBB::m_materialG</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a51159d8d8932ab30953858c7ca1bdd48" name="a51159d8d8932ab30953858c7ca1bdd48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51159d8d8932ab30953858c7ca1bdd48">&#9670;&#160;</a></span>m_materialR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">D3DMATERIAL9 COBB::m_materialR</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c53822263f9f92457781ebdad1c65f5" name="a4c53822263f9f92457781ebdad1c65f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c53822263f9f92457781ebdad1c65f5">&#9670;&#160;</a></span>m_matworld</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">D3DXMATRIX COBB::m_matworld</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae4f53e32c3dabbc2ae94674c7b949de9" name="ae4f53e32c3dabbc2ae94674c7b949de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4f53e32c3dabbc2ae94674c7b949de9">&#9670;&#160;</a></span>m_obbboxinfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_b_b_b_b_o_x.html">OBBBBOX</a> COBB::m_obbboxinfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>このクラス詳解は次のファイルから抽出されました:<ul>
<li>Sources/Framework/Model/XFile/OBB/<a class="el" href="_o_b_b_8h_source.html">OBB.h</a></li>
<li>Sources/Framework/Model/XFile/OBB/<a class="el" href="_o_b_b_8cpp.html">OBB.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_c_o_b_b.html">COBB</a></li>
    <li class="footer">構築: <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
